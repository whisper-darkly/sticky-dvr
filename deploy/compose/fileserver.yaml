# sticky-dvr â€” File server (nginx autoindex of recordings)
# Serves recording files to the proxy's /media/subscriptions/ path.
# Config file at ${CONFIG_DIR}/fileserver.conf.
#
# Usage:
#   docker compose -f deploy/compose/fileserver.yaml --env-file deploy/.env up -d

services:
  fileserver:
    image: nginx:1.27-alpine
    restart: unless-stopped
    volumes:
      - ${CONFIG_DIR}/fileserver.conf:/etc/nginx/conf.d/default.conf:ro
      - ${RECORDINGS_DIR}:/data:ro
    networks:
      - sticky-dvr

networks:
  sticky-dvr:
    external: true
